db_e_ramal:
    container_name: db_e_ramal
    image: sameersbn/mysql
    volumes:
        - ./infra/data:/var/lib/mysql
    environment:
        - DB_NAME=demoDb
        - DB_USER=demoUser
        - DB_PASS=demoPass
    ports:
        - "33060:3306"
php_e_ramal:
    build: .
    dockerfile: ./devops/php-fpm/Dockerfile
    environment:
      XDEBUG_CONFIG: "remote_host=10.38.101.13"
      PHP_IDE_CONFIG: "serverName=eramal"
    container_name: php_e_ramal
    ports:
      - '9000:9000'
    volumes:
      - ./backend:/var/www/e_ramal
      - ./devops/php-fpm/php.ini:/usr/local/etc/php/conf.d/php.ini
      - ./Docs:/var/www/Docs
    links:
      - db_e_ramal
web_e_ramal:
    container_name: web_e_ramal
    image: nginx:latest
    links:
        - db_e_ramal
        - php_e_ramal
    ports:
        - "8080:80"
    volumes:
        - ./backend:/var/www/e_ramal
        - ./devops/nginx/default.conf:/etc/nginx/conf.d/default.conf
